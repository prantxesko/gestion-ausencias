{"version":3,"sources":["components/helpers.js","components/Licencias/LicenciasForm.jsx","components/Licencias/LicenciasLista.jsx","components/Licencias/Licencias.jsx","App.js","index.js"],"names":["urlBase","getLicencias","a","console","log","axios","method","url","response","data","Error","createLicencia","setEstadoLicencia","id","activa","LicenciasForm","props","inputsObject","descrip","inicio","fin","useState","inputs","setInputs","handleInputs","e","newInputs","target","name","value","handleSubmit","preventDefault","FormData","onSubmit","encType","s","type","placeholder","required","onChange","LicenciasLista","licencias","activateButton","licencia","iconText","iconStyle","color","cursor","small","style","onClick","handleActivateButton","estado","className","colSpan","map","filledIn","label","checked","eliminada","Licencias","setLicencias","useEffect","then","catch","error","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f0bd62a1.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nconst urlBase = 'http://localhost:8080/'; //Para modificar en producción;\r\n\r\n\r\n\r\n\r\nexport const getLicencias = async ()=>{\r\n  console.log('Obteniendo licencias')\r\n  try{\r\n    const response = await axios({\r\n      method: \"get\",\r\n      url: `${urlBase}licencias`,\r\n      });\r\n    // console.log('Response' ,response.data)\r\n    return response.data;\r\n  }catch(error){\r\n    throw new Error(error);  \r\n  }\r\n}\r\n\r\nexport const createLicencia = async data =>{\r\n  try{\r\n    await axios({\r\n      method: \"post\",\r\n      url: `${urlBase}licencias`,\r\n      data: data\r\n    })\r\n  }catch(error){\r\n    throw new Error(error);  \r\n  }\r\n  \r\n}\r\n\r\nexport const setEstadoLicencia = async (id, activa = 'true') => {\r\n  try{\r\n    await axios({\r\n      method: \"put\",\r\n      url: `${urlBase}licencias?id=${id}&activa=${activa}`,\r\n    })\r\n  }catch(error){\r\n    throw new Error(error);    \r\n  } \r\n}\r\n\r\n\r\n\r\n\r\n\r\n","import React, {useState} from 'react';\r\nimport { createLicencia  } from '../helpers';\r\nimport {Button, Row, Col} from 'react-materialize'\r\n\r\nexport default function LicenciasForm(props){\r\n  const inputsObject = {\r\n    descrip : '',\r\n    inicio : '',\r\n    fin : ''\r\n  }\r\n\r\n  const [inputs, setInputs] = useState(inputsObject);\r\n\r\n  const handleInputs = e =>{\r\n    const newInputs = {...inputs};\r\n    newInputs[e.target.name] = e.target.value;\r\n    setInputs(newInputs);\r\n  }\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    createLicencia(new FormData(e.target));\r\n    setInputs(inputsObject);\r\n    props.onSubmit();\r\n  }\r\n  return(\r\n    \r\n      <form onSubmit= {handleSubmit} encType=\"multipart/form-data\">\r\n        <Row>\r\n        <Col s={6}>\r\n          <input type=\"text\" name = \"descrip\" placeholder  = \"Descripción\" required value ={inputs.descrip} onChange = {handleInputs}/>\r\n          <input type=\"date\" name = \"inicio\" value ={inputs.inicio} required onChange = {handleInputs}/>\r\n          <input type=\"date\" name = \"fin\" value ={inputs.fin} required onChange = {handleInputs}/>\r\n          <Button type=\"submit\"  >Crear Licencia</Button>\r\n          </Col>\r\n        </Row>\r\n      </form>\r\n  )\r\n}","\r\nimport React from 'react';\r\nimport { setEstadoLicencia} from '../helpers';\r\nimport {Table, Checkbox, Button, Icon, Col, Row} from 'react-materialize';\r\nimport { AutoInit } from 'materialize-css';\r\n\r\nexport default function LicenciasLista(props){\r\n  const {licencias} = props;\r\n\r\n\r\n\r\n  const activateButton = licencia => {\r\n    const iconText = !licencia.activa ? 'toggle_off' : 'toggle_on';\r\n    const iconStyle = !licencia.activa ? {color: 'red'} : {color: '#26a69a'}\r\n    iconStyle.cursor = 'pointer';\r\n\r\n    return(\r\n      <Icon\r\n        id= {licencia.id}\r\n        small\r\n        style = {iconStyle}\r\n        onClick = {() => handleActivateButton (licencia)}\r\n      >{iconText}</Icon>\r\n    )\r\n  }\r\n  const handleActivateButton = async licencia => {\r\n    try{\r\n      const estado = licencia.activa ? 'false' : 'true';\r\n      await setEstadoLicencia(licencia.id, estado);\r\n      props.onChange();\r\n    }catch(error){\r\n      console.log(error)\r\n    }\r\n\r\n  }\r\n  \r\n \r\n \r\n  return(\r\n    <Table className =\"striped\">\r\n      <thead>\r\n        <tr>\r\n          <th colSpan={2}>Lista de licencias vigentes</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n          {licencias.map(licencia =>(\r\n            // <tr key = {licencia.id}>\r\n            //   <td>\r\n            //     <LineaLicencia licencia = {licencia}></LineaLicencia>\r\n            //   </td>\r\n            // </tr>\r\n            <tr key = {licencia.id}>\r\n              <td>\r\n              <Checkbox\r\n                filledIn\r\n                label = \"\"\r\n                id = {licencia.id}\r\n                value = {licencia.id}\r\n                checked = {false}\r\n                onChange = {e => console.log(e.target.checked)}\r\n              />\r\n              </td>\r\n              <td>\r\n                {licencia.descrip}{(licencia.eliminada ? ' (Eliminada)': '' ) + '\\u00A0\\u00A0'}\r\n              </td>\r\n              <td>\r\n                {/* {deleteButton(licencia)} */}\r\n                {activateButton(licencia)}\r\n              </td>\r\n              \r\n            </tr>\r\n            ) \r\n            )}\r\n        </tbody>\r\n    </Table>\r\n  )\r\n}\r\n\r\nexport function LineaLicencia(props){\r\n  const {licencia} = props;\r\n  const divStyle = {\r\n    display : 'flex',\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n  }\r\n  const iconText = !licencia.activa ? 'toggle_off' : 'toggle_on';\r\n  const iconStyle = !licencia.activa ? {color: 'red'} : {color: '#26a69a'}\r\n  iconStyle.cursor = 'pointer';\r\n  // console.log(licencia.id)\r\n  return(\r\n  <div style = {divStyle}>\r\n   \r\n     <Checkbox\r\n        filledIn\r\n        id = {licencia.id}\r\n        label = {licencia.id}\r\n        value = {licencia.id}\r\n        checked = {false}\r\n        onChange = {e => console.log(licencia.id, e.target.checked)}\r\n        />\r\n      {licencia.descrip}{(licencia.eliminada ? ' (Eliminada)': '' ) + '\\u00A0\\u00A0'}\r\n      <Icon\r\n        id= {licencia.id}\r\n        small\r\n        style = {iconStyle}\r\n      >{iconText}</Icon>\r\n  </div>\r\n  )\r\n}","import React, {useState, useEffect} from 'react';\r\nimport LicenciasForm from './LicenciasForm';\r\nimport LicenciasLista from './LicenciasLista';\r\nimport {getLicencias} from '../helpers';\r\n\r\n\r\nexport default function Licencias() {\r\n \r\n  const [licencias, setLicencias] = useState([]);\r\n\r\n\r\n\r\n  useEffect(()=>{\r\n \r\n    getLicencias()\r\n    .then(data => {\r\n      // console.log('Data', data)\r\n      setLicencias(data)\r\n    })\r\n    .catch(error => console.log(error));\r\n  }, [])\r\n\r\n \r\n\r\n\r\n  \r\n  return (\r\n    <div>\r\n      <LicenciasForm \r\n        onSubmit = {\r\n          ()=> getLicencias()\r\n          .then(data => setLicencias(data))\r\n        }\r\n      />\r\n      <LicenciasLista licencias = {licencias}\r\n      onChange = {\r\n        ()=> getLicencias()\r\n        .then(data => setLicencias(data))\r\n      }\r\n       />\r\n    </div>\r\n   \r\n  )\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport './App.css'\r\nimport '../node_modules/materialize-css/dist/css/materialize.css';\r\nimport M from 'materialize-css'\r\nimport Licencias from './components/Licencias/Licencias';\r\n\r\nfunction App() {\r\n \r\n  return (\r\n    <div className=\"App container\">\r\n        <Licencias/>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n    <App />,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}